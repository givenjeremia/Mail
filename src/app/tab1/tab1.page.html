<ion-app>
  <ion-header color="dark">
    <ion-toolbar color="dark">
      <ion-buttons slot="start" style="z-index: 100;">
        <ion-menu-button autoHide="true"></ion-menu-button>
      </ion-buttons>
      <ion-title style="position: absolute;top: 0;left: 0;width: 100%;height: 100%;text-align: center;">Janji Jiwa Mail</ion-title>
    </ion-toolbar>
  </ion-header>
<ion-content fullscreen  color="dark">
  <ion-searchbar placeholder="Subject Email" (ionChange)="searchbar($event)"></ion-searchbar>
  <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
    <ion-refresher-content>
</ion-refresher-content>
</ion-refresher>

<ion-list *ngFor="let item of inbox; let i=index" class=" ion-no-padding "  style="background-color: transparent;">
  <ion-item-sliding color="medium">
    <ion-item-options side="start">
      <ion-item-option (click)="staredFunction(item.starred,item.idmessage)" color="transparent" class=" ion-padding">
        <ion-icon name="star" *ngIf="item.starred==1"  style="color: yellow; font-size: 30px;" ></ion-icon>
        <ion-icon name="star" *ngIf="item.starred==0"  style="color: green; font-size: 30px;" ></ion-icon>
      </ion-item-option>
      <ion-item-option (click)="deleteFunction(item.idmessage)" color="transparent">
        <ion-icon color="danger" name="trash" style="font-size: 30px;" ></ion-icon>
      </ion-item-option>
    </ion-item-options>

    <ion-item color="dark">
      <ion-card color="tertiary" *ngIf="item.read==0"  style="width: 100vh;" routerLink="/detailinbox/{{item.idmessage}}">
        <ion-card-header >
            <ion-card-title>{{item.subject}}</ion-card-title>
            <ion-card-subtitle>{{item.email_pengirim}}</ion-card-subtitle>
          </ion-card-header>
          <ion-card-content>
            <ion-row style="padding: 0;">
              <ion-col class=" ion-align-items-start" style="padding: 0;">
                <ion-datetime style="padding: 0;" value="{{item.time}}" min="1990-02" max="2000" [dayShortNames]="customDayShortNames" displayFormat="DDDD, MMM DD, YY" monthShortNames="Jan,Feb,March,April,May,June,July,Aug,Sept,Oct,Nov,Dec"></ion-datetime>
              </ion-col>
              <ion-col class="ion-align-items-center" >
                
              </ion-col>
              <ion-col class="ion-align-items-end ion-text-end"  style="padding: 0;">
                <ion-datetime displayFormat="HH:mm" value="{{item.time}}" class=""style="padding: 0;" ></ion-datetime>
              </ion-col>
            </ion-row>
          </ion-card-content>
        </ion-card>

        <!-- Read -->
        
        <ion-card *ngIf="item.read==1"   style="width: 100vh;" color="dark"  routerLink="/detailinbox/{{item.idmessage}}">
          <ion-card-header>
            <ion-card-title>{{item.subject}}</ion-card-title>
            <ion-card-subtitle>{{item.email_pengirim}}</ion-card-subtitle>
          </ion-card-header>
          <ion-card-content>
            
            <ion-row style="padding: 0;">
              <ion-col class=" ion-align-items-start" style="padding: 0;">
                <ion-datetime style="padding: 0;" value="{{item.time}}" min="1990-02" max="2000" [dayShortNames]="customDayShortNames" displayFormat="DDDD, MMM DD, YY" monthShortNames="Jan,Feb,March,April,May,June,July,Aug,Sept,Oct,Nov,Dec"></ion-datetime>
              </ion-col>
              <ion-col class="ion-align-items-center" >
                
              </ion-col>
              <ion-col class="ion-align-items-end ion-text-end"  style="padding: 0;">
                <ion-datetime displayFormat="HH:mm" value="{{item.time}}" class=""style="padding: 0;" ></ion-datetime>
              </ion-col>
            </ion-row>
          </ion-card-content>
        </ion-card>
      
    </ion-item>

    <ion-item-options side="end">
      <ion-item-option (click)="staredFunction(item.starred,item.idmessage)" color="transparent" class=" ion-padding">
        <ion-icon name="star" *ngIf="item.starred==1"  style="color: yellow; font-size: 30px;" ></ion-icon>
        <ion-icon name="star" *ngIf="item.starred==0"  style="color: green; font-size: 30px;" ></ion-icon>
      </ion-item-option>
      <ion-item-option (click)="deleteFunction(item.idmessage)" color="transparent">
        <ion-icon color="danger" name="trash" style="font-size: 30px;" ></ion-icon>
      </ion-item-option>
    </ion-item-options>

  </ion-item-sliding> 
</ion-list>

</ion-content>
</ion-app>